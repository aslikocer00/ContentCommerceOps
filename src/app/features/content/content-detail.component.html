<section *ngIf="content" class="detail">
  <header class="hero" [style.background]="content.heroGradient">
    <div class="hero-text">
      <div class="chips">
        <span class="chip">{{ content.category }}</span>
        <span class="chip outline">{{ content.status }}</span>
      </div>
      <h1>{{ content.title }}</h1>
      <p>{{ content.summary }}</p>
      <div class="meta">
        <div>
          <span>Author</span>
          <strong>{{ content.author }}</strong>
        </div>
        <div>
          <span>Publish Date</span>
          <strong>{{ content.publishDate | date: 'MMM d, y' }}</strong>
        </div>
        <div>
          <span>Read Time</span>
          <strong>{{ content.readTime }}</strong>
        </div>
      </div>
    </div>
    <a [routerLink]="['/content', content.id, 'edit']" class="primary">Edit Story</a>
  </header>

  <section class="stats" *ngIf="content.performance">
    <div>
      <span>Views</span>
      <strong>{{ content.performance.views | number }}</strong>
    </div>
    <div>
      <span>Avg Read</span>
      <strong>{{ content.performance.avgReadTime }}</strong>
    </div>
    <div>
      <span>Click-Through</span>
      <strong>{{ content.performance.clickThrough }}</strong>
    </div>
    <div>
      <span>Revenue</span>
      <strong>{{ content.performance.revenue }}</strong>
    </div>
  </section>

  <section class="grid">
    <div class="panel">
      <h3>Story Structure</h3>
      <div class="section" *ngFor="let section of content.sectionHighlights">
        <strong>{{ section.heading }}</strong>
        <p>{{ section.body }}</p>
      </div>
    </div>

    <div class="panel">
      <h3>Commerce Links</h3>
      <div class="commerce" *ngFor="let link of content.commerceLinks">
        <div>
          <strong>{{ link.label }}</strong>
          <span>{{ link.retailer }}</span>
        </div>
        <div class="price">{{ link.price }}</div>
      </div>
      <p class="muted">Affiliate links refresh 24h before publish.</p>
    </div>
  </section>

  <section class="grid">
    <div class="panel">
      <h3>Distribution</h3>
      <div class="tags">
        <span *ngFor="let channel of content.channels">{{ channel }}</span>
      </div>
      <p class="muted">Scheduled slots are auto-synced with the newsletter builder.</p>
    </div>

    <div class="panel" *ngIf="content.seo">
      <h3>SEO Snapshot</h3>
      <div class="seo">
        <div>
          <span>Title</span>
          <strong>{{ content.seo.title }}</strong>
        </div>
        <div>
          <span>Description</span>
          <strong>{{ content.seo.description }}</strong>
        </div>
        <div class="tags">
          <span *ngFor="let keyword of content.seo.keywords">{{ keyword }}</span>
        </div>
      </div>
    </div>
  </section>

  <section class="grid">
    <div class="panel">
      <h3>Editor Notes</h3>
      <p>{{ content.editorNotes }}</p>
    </div>

    <div class="panel">
      <h3>Related Items</h3>
      <div class="related" *ngFor="let item of related">
        <strong>{{ item.title }}</strong>
        <span>{{ item.publishDate | date: 'MMM d' }}</span>
      </div>
    </div>
  </section>
</section>
